;try{var runDataGatherer={gathererScriptId:"",gathererLogLevel:"",event:{},nativeEvent:{},element:{},attributes:{},lock:!1,dataPoints:[],spyReportingToGaCallbacks:[],pushStateCallbacks:[],getConfig:function(){try{var t={"script_id":"default","running":!0,"run_conditions":{"expressions":["!(new RegExp('AdsBot-Google')).test(navigator.userAgent);","!(new RegExp('Googlebot')).test(navigator.userAgent);","!(new RegExp('YandexMobileBot')).test(navigator.userAgent);","!(new RegExp('screenshot-generator')).test(navigator.userAgent);"]},"declarations":"runDataGatherer.parse_url_params = function(url) {var params = {};var index = url.indexOf('?');if (index != -1) {var endIndex = url.lastIndexOf('#');if (endIndex == -1) {endIndex = url.length;}var vars = url.substring(index + 1, endIndex).split(\/&|\\?\/);for (var i = 0; i < vars.length; i++) {var pair = vars[i].split('=');params[pair[0]] = decodeURIComponent(pair[1]);}}return params;};runDataGatherer.get_item_id = function(url) {var urlParams = runDataGatherer.parse_url_params(url);if (urlParams['dq'] != null) {return urlParams['dq'];} else {var id = url.substring(0, url.indexOf('.htm'));var idStartIndex = id.lastIndexOf('-d');if (idStartIndex != -1) {id = id.substring(idStartIndex + 2, id.length);return id;} else {return 'no_id_found_item';}}};runDataGatherer.parseIdFromUrl = function(url) {return runDataGatherer.get_item_id(url);};runDataGatherer.getProductDetailId = function() {var itemId = null;if (itemId == null) {var addButton = document.querySelector(\".shoppingListsAdd\");if (addButton != null) {itemId = addButton.getAttribute(\"data-id\");}}if (itemId == null) {var fastOrderButton = document.querySelector(\"#hlOrderFast\");if (fastOrderButton != null) {itemId = fastOrderButton.getAttribute(\"data-commodityid\");}}if (itemId == null) {itemId = runDataGatherer.parseIdFromUrl(window.location.href);}if (itemId == null) {var paramValue = runDataGatherer.loadUrl({'mode': 'specific','parameters': ['dq']})['parameters']['dq'];if (paramValue != null) {itemId = decodeURIComponent(paramValue);}}if (itemId != null) {itemId = itemId.split(\"#\")[0];itemId = itemId.split(\")\")[0];itemId = itemId.split(\"?\")[0];}return itemId;}","log_level":"error","batch_time":10,"batch_event_type_black_list":["click"],"batch_event_type_white_list":[],"user_identification":{"mode":"cross_domain_id"},"location":{"ip":!0,"country_code":!0,"country_name":!0,"region_code":!0,"region_name":!0,"city":!0,"zip_code":!0,"time_zone":!0,"latitude":!0,"longitude":!0,"metro_code":!0},"device":{"type":!0,"brand":!0,"model":!0,"orientation":!0,"resolution":!0,"battery":!0,"max_touch_points":!0,"hardware_concurrency":!0,"device_pixel_ratio":!0},"os":{"name":!0,"version":!0,"platform":!0},"browser":{"type":!0,"name":!0,"version":!0,"engine":!0,"engine_version":!0,"user_agent":!0,"history":!0,"window_size":!0,"language":!0,"cookie":{"mode":"specific","parameters":["_ga","_gid","VZTX"]}},"global_variables":{"parameters":[]},"custom_attributes":[],"url":{"mode":"specific","parameters":["utm_source","utm_medium","utm_campaign","utm_term","utm_content"]},"events":{"groups":[{"name":"pageview","running":!0,"selector":{"mode":"css","selection":["body"]},"type":["inview"],"handler":"if (!isNaN(dataLayer[0].waUsid)) {runDataGatherer.attributes.customerUserId = dataLayer[0].waUsid;}"},{"name":"detail_view","running":!0,"selector":{"mode":"css","selection":["div.detail-page"]},"type":["inview"],"handler":"runDataGatherer.attributes.sku = dataLayer[0].itemID;if (runDataGatherer.attributes.id == null) {var addButton = document.querySelector(\".shoppingListsAdd\");if (addButton != null) {runDataGatherer.attributes.id = addButton.getAttribute(\"data-id\");}}if (runDataGatherer.attributes.id == null) {var fastOrderButton = document.querySelector(\"#hlOrderFast\");if (fastOrderButton != null) {runDataGatherer.attributes.id = fastOrderButton.getAttribute(\"data-commodityid\");}}if (runDataGatherer.attributes.id == null) {runDataGatherer.attributes.id = runDataGatherer.parseIdFromUrl(window.location.href);}if (runDataGatherer.attributes.id == null) {var paramValue = runDataGatherer.loadUrl({'mode': 'specific','parameters': ['dq']})['parameters']['dq'];if (paramValue != null) {runDataGatherer.attributes.id = decodeURIComponent(paramValue);}}if (runDataGatherer.attributes.id != null) {runDataGatherer.attributes.id = runDataGatherer.attributes.id.split(\"#\")[0];runDataGatherer.attributes.id = runDataGatherer.attributes.id.split(\")\")[0];runDataGatherer.attributes.id = runDataGatherer.attributes.id.split(\"?\")[0];}if (runDataGatherer.attributes.id != null && window.location.href.indexOf(\"\/EN\/\") == -1) {runDataGatherer.attributes.url = window.location.href.split(\"?\")[0].split(\"#\")[0];var nameElement = document.querySelector('h1[itemprop=\\\"name\\\"]');if (nameElement != null) {runDataGatherer.attributes.seoname = nameElement.innerText.trim();}var meta = document.querySelector('#metaDescription').content;var nameIndex = meta.indexOf(runDataGatherer.attributes.seoname);if (nameIndex != -1) {runDataGatherer.attributes.seoprefix = meta.substring(0, nameIndex - 1);runDataGatherer.attributes.category = '{\\\"' + runDataGatherer.attributes.seoprefix.replace(\/\"\/g, \"\\\\\\\"\") + '\\\":1}';}var descrElement = document.querySelector('div.nameextc span');if (descrElement != null) {runDataGatherer.attributes.description = descrElement.innerText;}var priceElement = document.querySelector('span.price_withVat');if (priceElement != null) {runDataGatherer.attributes.price = parseInt(priceElement.innerText.replace(\/[\\s\\u202F\\u00A0]\/g, \"\"));}}if (runDataGatherer.attributes.id == null || runDataGatherer.attributes.sku == null) {runDataGatherer.lock = true;}"},{"name":"basket_add_detail","running":!0,"selector":{"mode":"css","selection":["a[href*='javascript:detailOrder']"]},"type":["click"],"handler":"var addButton = document.querySelector(\".shoppingListsAdd\");if (addButton != null) {runDataGatherer.attributes.id = addButton.getAttribute(\"data-id\");}if (runDataGatherer.attributes.id == null) {runDataGatherer.attributes.id = runDataGatherer.parseIdFromUrl(window.location.href);}if (runDataGatherer.attributes.id == null) {runDataGatherer.lock = true;}"},{"name":"basket_add_list","running":!0,"selector":{"mode":"css","selection":["a[href*='javascript:boxOrder']"]},"type":["click"],"handler":"var lastIndex = runDataGatherer.element.href.indexOf(\",\");if (lastIndex == -1) {lastIndex = runDataGatherer.element.href.indexOf(\")\");}runDataGatherer.attributes.id = runDataGatherer.element.href.substring(runDataGatherer.element.href.indexOf(\"boxOrder(\") + 9, lastIndex);"},{"name":"search_autocomplete_input","running":!0,"selector":{"mode":"css","selection":["#edtSearch"]},"type":["input"],"handler":"runDataGatherer.attributes.input = runDataGatherer.element.value;if (runDataGatherer.attributes.input.indexOf(\"co hled\u00e1te?\") != -1 || runDataGatherer.attributes.input.indexOf(\"nap\u0159.\") != -1) {runDataGatherer.lock = true;}"},{"name":"search_click","running":!0,"selector":{"mode":"css","selection":[".browsingitem a"]},"type":["click"],"handler":"if (window.location.href.includes(\"search.htm\")) {runDataGatherer.attributes.id = runDataGatherer.element.closest(\".browsingitem\").getAttribute(\"data-id\");} else {runDataGatherer.lock = true;}"},{"name":"search_view","running":!0,"selector":{"mode":"css","selection":[".browsingitem"]},"type":["inview"],"handler":"if (window.location.href.includes(\"search.htm\")) {runDataGatherer.attributes.id = runDataGatherer.element.getAttribute(\"data-id\");if (runDataGatherer.attributes.id != null) {runDataGatherer.attributes.id = runDataGatherer.attributes.id.split(\"?\")[0];}} else {runDataGatherer.lock = true;}"},{"name":"search_autocomplete_view","running":!0,"selector":{"mode":"css","selection":[".newWisperer .t3 img"]},"type":["inview"],"handler":"runDataGatherer.attributes.image = runDataGatherer.element.getAttribute(\"src\");"},{"name":"search_autocomplete_click","running":!0,"selector":{"mode":"css","selection":[".newWisperer .t3 a"]},"type":["click"],"handler":"runDataGatherer.attributes.image = runDataGatherer.element.getElementsByTagName('img')[0].getAttribute(\"src\");"},{"name":"search_input","running":!0,"selector":{"mode":"css","selection":["body"]},"type":["inview"],"handler":"if (window.location.href.indexOf(\"search.htm\") >= 0) {runDataGatherer.attributes.input = decodeURIComponent(runDataGatherer.loadUrl({'mode': 'specific','parameters': ['exps']})['parameters']['exps']);} else {runDataGatherer.lock = true;}"},{"name":"facebook_share","running":!0,"selector":{"mode":"css","selection":["#newSocialContainer .fb"]},"type":["click"],"handler":"runDataGatherer.attributes.id = runDataGatherer.getProductDetailId();if (runDataGatherer.attributes.id == null) {runDataGatherer.lock = true;}"},{"name":"twitter_share","running":!0,"selector":{"mode":"css","selection":["#newSocialContainer .tw"]},"type":["click"],"handler":"runDataGatherer.attributes.id = runDataGatherer.getProductDetailId();if (runDataGatherer.attributes.id == null) {runDataGatherer.lock = true;}"},{"name":"image_detail_view","running":!0,"selector":{"mode":"css","selection":[".fancybox-skin"]},"type":["inview"],"handler":"runDataGatherer.attributes.id = runDataGatherer.getProductDetailId();if (runDataGatherer.attributes.id == null || document.querySelector(\"div.detail-page\") == null) {runDataGatherer.lock = true;}"},{"name":"image_detail_click","running":!0,"selector":{"mode":"css","selection":[".fancybox-nav, #fancybox-thumbs a"]},"type":["click"],"handler":"runDataGatherer.attributes.id = runDataGatherer.getProductDetailId();if (runDataGatherer.attributes.id == null || document.querySelector(\"div.detail-page\") == null) {runDataGatherer.lock = true;}"},{"name":"purchase_order","running":!0,"selector":{"mode":"css","selection":["body"]},"type":["inview"],"handler":"if (window.location.href.indexOf(\"Order5.htm\") >= 0) {var products = dataLayer[3].transactionProducts;if (products != null) {for (var i = 0; i < products.length; i++) {runDataGatherer.sendCustomEvent('purchase_order', 'inview', {'sku': products[i]['sku'],'price': products[i]['price'],'amount': products[i]['quantity'],'order': dataLayer[3].transactionId});}}}runDataGatherer.lock = true;"},{"name":"purchase","running":!0,"selector":{"mode":"css","selection":["a.js-order3-continue"]},"type":["click"],"handler":"if (window.location.href.indexOf(\"Order3.htm\") >= 0) {var productList = document.querySelectorAll(\".orderSummaryInner .items a.imgLink\");if (productList.length == dataLayer[1].crto.products.length) {for (var i = 0; i < productList.length; i++) {runDataGatherer.sendCustomEvent('purchase', 'inview', {'id': runDataGatherer.parseIdFromUrl(productList[i].getAttribute(\"href\")),'sku': dataLayer[1].crto.products[i].id,'price': dataLayer[1].crto.products[i].price,'amount': dataLayer[1].crto.products[i].quantity});}}}runDataGatherer.lock = true;"}],"point":!0}};return JSON.parse(JSON.stringify(t))}catch(e){this.errorHandler(e,"getConfig")}},getAccountId:function(){return"alza"},getUrl:function(){return"https://api.databreakers.com/v1/alza/dataPoint"},getVersionOfScript:function(){return 1615999974},getVersionOfConfig:function(){return 1616002600},errorHandler:function(e,r,n,a){try{if(a)return;if(["warning","error"].indexOf(this.gathererLogLevel)>=0){var i=this.prepareOuput(this.getConfig(),!0);i["dataPoints"][0]["attributes"]["message_type"]="error";i["dataPoints"][0]["attributes"]["error_name"]=e.name;i["dataPoints"][0]["attributes"]["error_message"]="area: "+r+", "+e.message;if(n&&getPropertyNames(n).length!==0){i.dataPoints[0].attributes.original_request={"type":n.type,"method":n.method,"source_url":{"page":n.url}};if(n.hasOwnProperty("body")){i.dataPoints[0].attributes.original_request.body=JSON.stringify(n.body,null)}};var o=this.createCORSRequest("POST",this.getUrl());o.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();o.onerror=null;return!1};if(o){o.send(JSON.stringify(i))}}}catch(t){}},warningHandler:function(e){try{if(this.gathererLogLevel==="warning"){var n={"dataPoints":[{"attributes":{"script_id":this.gathererScriptId,"script_version":this.getVersionOfScript(),"config_version":this.getVersionOfConfig(),"script_type":"gatherer","source_url":{"page":location.href},"user_agent":navigator.userAgent,"message_type":"warning","warning_type":"not_possible_to_read","warning_message":"It is not possible to read: "+e}}]};var r=this.createCORSRequest("POST",this.getUrl());r.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();r.onerror=null;return!1};if(r){r.send(JSON.stringify(n))}}}catch(t){}},main:function(){try{var t=this.getConfig();this.gathererScriptId=t["script_id"];this.gathererLogLevel=t["log_level"];if(t["running"]&&this.resolveRunConditions(t["run_conditions"]["expressions"])){if(!window.hasOwnProperty("runIndividualizer")){this.initPolyfills();this.initInView()};if(t.hasOwnProperty("variables")){eval(t["variables"])};if(t.hasOwnProperty("declarations")){eval(t["declarations"])};this.setUserIdCrossDomain(t["user_identification"]);this.setRemoteData();this.initReporting(t,this.getUrl())}}catch(e){this.errorHandler(e,"main")}},makeCorsRequest:function(e,r,n,a,o,s){try{var i=this.createCORSRequest(n,r),l=this;if(!i){console.log("CORS not supported");return};if(e["dataPoints"]){i.body=e["dataPoints"][0]};i.onreadystatechange=function(){if(typeof a=="function"&&i.readyState===i.DONE&&[200,204].indexOf(i.status)>=0){a(i)}};i.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();i.onerror=null;l.errorHandler(e,"makeCorsRequest",i,s);return!1};i.send(JSON.stringify(e))}catch(t){}},initReporting:function(e,n){var r=this;try{e["events"]["groups"].forEach(function(t){if(!t.hasOwnProperty("running")||t["running"]){t["type"].forEach(function(a){if(a==="inview"){var i=function(a){try{r.element=a;r.event={};r.event["type"]="inview";r.event["threshold"]=t.hasOwnProperty("threshold")?t["threshold"]:0;r.event["name"]=t["name"];r.event["selector"]={};r.event["selector"]["mode"]=t["selector"]["mode"];if(t["selector"]["mode"]==="xpath"){r.event["selector"]["selection"]=r.getElementTreeXPath(r.element)}
else{r.event["selector"]["selection"]=r.getElementTreeCss(r.element)};r.lock=!1;r.attributes={};eval(t["handler"]);if(r.lock)return;if(getPropertyNames(r.attributes).length!==0){r.event["attributes"]=r.attributes};var o=r.prepareOuput(e);o["dataPoints"][0]["attributes"]["event"]=r.event;var s=e["batch_event_type_black_list"].indexOf("inview")<0,l=e["batch_event_type_white_list"].length==0||e["batch_event_type_white_list"].indexOf("inview")>=0;if(e["batch_time"]!=0&&s&&l){if(r.dataPoints.length>0){r.dataPoints.push(o["dataPoints"][0])}
else{r.dataPoints.push(o["dataPoints"][0]);setTimeout(function(){r.makeCorsRequest({"dataPoints":r.dataPoints},n,"POST",null,!0);r.dataPoints=[]},e["batch_time"])}}
else{r.makeCorsRequest(o,n,"POST",null,!0)}}catch(i){r.errorHandler(i,"initReporting callback inview, event: "+t["name"])}},s=function(){var e=[];t["selector"]["selection"].forEach(function(n){if(t["selector"]["mode"]==="xpath"){e=e.concat(r.selectElements(n))}
else{e=e.concat(Array.prototype.slice.call(document.querySelectorAll(n)))}});return e};r.appear({appear:i,bounds:t.hasOwnProperty("threshold")?t["threshold"]:0,getElements:s,reappearOption:t.hasOwnProperty("reappear")?t["reappear"]:!1,rootSelector:t.hasOwnProperty("root_selector")?t["root_selector"]:!1})};if(a==="pushState"){var i=function(){try{r.element=null;r.event={};r.event["type"]="pushState";r.event["name"]=t["name"];r.lock=!1;r.attributes={};eval(t["handler"]);if(r.lock)return;if(getPropertyNames(r.attributes).length!==0){r.event["attributes"]=r.attributes};var i=r.prepareOuput(e);i["dataPoints"][0]["attributes"]["event"]=r.event;r.makeCorsRequest(i,n,"POST",null,!0)}catch(a){r.errorHandler(a,"initReporting callback pushState, event: "+t["name"])}};if(r.pushStateCallbacks.length==0){var o=history.pushState;history.pushState=function(){o.apply(this,arguments);r.pushStateCallbacks.forEach(function(e){e()})}};r.pushStateCallbacks.push(i)};if(a!=="inview"&&a!=="pushState"){var i=function(a){var s=[],d;t["selector"]["selection"].forEach(function(e){if(e=="document"){s.push(document)}
else{if(t["selector"]["mode"]==="xpath"){s=s.concat(r.selectElements(e))}
else{s=s.concat(Array.prototype.slice.call(document.querySelectorAll(e)))}}});for(var c=0;c<s.length;c++){try{var o;if(a.hasOwnProperty("path")&&Array.isArray(a.path)&&a.path.length>=2){o=a.path}
else{o=[];var u=a.target;while(u){o.push(u);u=u.parentElement};if(o.indexOf(window)===-1&&o.indexOf(document)===-1)o.push(document);if(o.indexOf(window)===-1)o.push(window)};d=o.indexOf(s[c]);if(d<0)continue;r.element=o[d];r.event={};r.nativeEvent=a;r.event["point"]=r.loadPoint(e["events"]["point"],a);r.event["type"]=a["type"];r.event["name"]=t["name"];r.event["selector"]={};r.event["selector"]["mode"]=t["selector"]["mode"];if(t["selector"]["mode"]==="xpath"){r.event["selector"]["selection"]=r.getElementTreeXPath(r.element)}
else{r.event["selector"]["selection"]=r.getElementTreeCss(r.element)};r.lock=!1;r.attributes={};eval(t["handler"]);if(r.lock)return;if(getPropertyNames(r.attributes).length!==0){r.event["attributes"]=r.attributes};var l=r.prepareOuput(e);l["dataPoints"][0]["attributes"]["event"]=r.event;var h=e["batch_event_type_black_list"].indexOf(a["type"])<0,p=e["batch_event_type_white_list"].length==0||e["batch_event_type_white_list"].indexOf(a["type"])>=0;if(e["batch_time"]!=0&&h&&p){if(r.dataPoints.length>0){r.dataPoints.push(l["dataPoints"][0])}
else{r.dataPoints.push(l["dataPoints"][0]);setTimeout(function(){r.makeCorsRequest({"dataPoints":r.dataPoints},n,"POST",null,!0);r.dataPoints=[]},e["batch_time"])}}
else{r.makeCorsRequest(l,n,"POST",null,!0)};break}catch(i){r.errorHandler(i,"initReporting callback noinview, event: "+t["name"]);break}}};document.addEventListener(a,i,!0)}})}})}catch(t){this.errorHandler(t,"initReporting")}},createCORSRequest:function(e,r){try{var n=new XMLHttpRequest();if("withCredentials" in n){n.open(e,r);n.type="XMLHttpRequest"}
else if(typeof XDomainRequest!="undefined"){n=new XDomainRequest();n.open(e,r);n.type="XDomainRequest"}
else{return null};n.setRequestHeader("Content-Type","text/plain;charset=utf-8");n.url=r;n.method=e;return n}catch(t){}},prepareOuput:function(e,r){try{var n={};n["dataPoints"]=[];n["dataPoints"].push({"attributes":{}});n["dataPoints"][0]["attributes"]["device"]={};n["dataPoints"][0]["attributes"]["browser"]={};n["dataPoints"][0]["attributes"]["os"]={};n["dataPoints"][0]["attributes"]["location"]={};n["dataPoints"][0]["attributes"]["script_id"]=e["script_id"];n["dataPoints"][0]["attributes"]["script_version"]=this.getVersionOfScript();n["dataPoints"][0]["attributes"]["config_version"]=this.getVersionOfConfig();n["dataPoints"][0]["attributes"]["script_type"]="gatherer";var w=this.loadUserId(e["user_identification"],r);if(w){n["dataPoints"][0]["attributes"]["user_identification"]={};n["dataPoints"][0]["attributes"]["user_identification"]["id"]=w;var b=this.loadUserIdCrossDomain(e["user_identification"],r);if(b){n["dataPoints"][0]["attributes"]["user_identification"]["cross_domain_id"]=b}};var a=this.loadRemoteData({"device":e["device"],"browser":e["browser"],"os":e["os"],"location":e["location"]},r);if(a&&a.hasOwnProperty("device")&&getPropertyNames(a["device"]).length!==0){n["dataPoints"][0]["attributes"]["device"]=a["device"]};var y=this.loadOrientation(e["device"]["orientation"],r);if(y){n["dataPoints"][0]["attributes"]["device"]["orientation"]=y};var h=this.loadResolution(e["device"]["resolution"],r);if(h&&getPropertyNames(h).length!==0){n["dataPoints"][0]["attributes"]["device"]["resolution"]=h};var d=this.loadBattery(e["device"]["battery"],r);if(d&&getPropertyNames(d).length!==0){n["dataPoints"][0]["attributes"]["device"]["battery"]=d};var v=this.loadMaxTouchPoints(e["device"]["max_touch_points"],r);if(v){n["dataPoints"][0]["attributes"]["device"]["max_touch_points"]=v};var g=this.loadHardwareConcurrency(e["device"]["hardware_concurrency"],r);if(g){n["dataPoints"][0]["attributes"]["device"]["hardware_concurrency"]=g};var m=this.loadDevicePixelRatio(e["device"]["device_pixel_ratio"],r);if(m){n["dataPoints"][0]["attributes"]["device"]["device_pixel_ratio"]=m};if(a&&a.hasOwnProperty("browser")&&getPropertyNames(a["browser"]).length!==0){n["dataPoints"][0]["attributes"]["browser"]=a["browser"]};var f=this.loadUserAgent(e["browser"]["user_agent"],r);if(f){n["dataPoints"][0]["attributes"]["browser"]["user_agent"]=f};var c=this.loadCookie(e["browser"]["cookie"],r);if(c&&getPropertyNames(c).length!==0){n["dataPoints"][0]["attributes"]["browser"]["cookie"]=c};var u=this.loadHistory(e["browser"]["history"],r);if(u&&getPropertyNames(u).length!==0){n["dataPoints"][0]["attributes"]["browser"]["history"]=u};var l=this.loadWindowSize(e["browser"]["window_size"],r);if(l&&getPropertyNames(l).length!==0){n["dataPoints"][0]["attributes"]["browser"]["window_size"]=l};var p=this.loadLanguage(e["browser"]["language"],r);if(p){n["dataPoints"][0]["attributes"]["browser"]["language"]=p};if(a&&a.hasOwnProperty("os")&&getPropertyNames(a["os"]).length!==0){n["dataPoints"][0]["attributes"]["os"]=a["os"]};if(a&&a.hasOwnProperty("location")&&getPropertyNames(a["location"]).length!==0){n["dataPoints"][0]["attributes"]["location"]=a["location"]};var s=this.loadGlobalVariables(e["global_variables"],r);if(s&&getPropertyNames(s).length!==0){n["dataPoints"][0]["attributes"]["global_variables"]=s};var o=this.loadCustomAttributes(e["custom_attributes"],r);if(o&&getPropertyNames(o).length!==0){n["dataPoints"][0]["attributes"]["custom_attributes"]=o};var i=this.loadUrl(e["url"],r);if(i&&getPropertyNames(i).length!==0){n["dataPoints"][0]["attributes"]["source_url"]=i};return n}catch(t){this.errorHandler(t,"prepareOuput",{},r)}},selectElements:function(e,r){try{var a=document.evaluate(e,r?r:document,null,XPathResult.ANY_TYPE,null),i=[],o=0,n=a.iterateNext();while(n){i[o]=n;n=a.iterateNext();++o};return i}catch(t){this.errorHandler(t,"selectElements")}},saveToCookie:function(e,r){try{document.cookie=e+"="+r+";max-age="+(60*60*24*365*5)+";path=/"}catch(t){this.errorHandler(t,"saveToCookie")}},setRemoteData:function(e){var r=this;try{function i(){try{if(r.localStorageErrorTimestamp&&(new Date().getTime()-r.localStorageErrorTimestamp)<300000)return;var n="https://publicapi.databreakers.com/v1/gatherer-data-provider",a=function(t){try{if(t.readyState===t.DONE&&t.status===200){var a=JSON.parse(t.responseText),s="";if(a&&a!==null&&typeof a==="object"){try{for(var o in a){for(var i in a[o]){if(a[o][i]=="")continue;if(i==="ip"){s=s.concat(o+"-"+i+"="+a[o][i]+","+Date.now()+"; ")}
else{s=s.concat(o+"-"+i+"="+a[o][i]+"; ")}}};localStorage.setItem("db_data_gatherer",r.getBase64Object().encode(s))}catch(n){r.localStorageErrorTimestamp=new Date().getTime();r.errorHandler(n,"setRemoteData (gatherer_data_provider service response)")}}}
else{r.errorHandler({"name":"bad_request","message":"xhr.status: "+t.status},"setRemoteData (gatherer_data_provider service response)")}}catch(n){r.errorHandler({"name":"bad_request","message":"xhr.status: "+t.status},"getRemoteData callback",{},e)}};r.makeCorsRequest("",n,"GET",a,!0,e)}catch(t){r.errorHandler(t,"setRemoteData makeCorsRequest",{},e)}};var a=localStorage.getItem("db_data_gatherer");if(a){var n=/ip=([^;]+)/.exec(this.getBase64Object().decode(a))};if(!n){i();return};var o=new Date(),s=new Date(parseInt(n[1].split(",")[1],10)),l=(o-s)/60000;if(l>=30){i()}}catch(t){this.errorHandler(t,"setRemoteData",{},e)}},setUserIdCrossDomain:function(e){var a=this;try{if(e&&e.hasOwnProperty("mode")){if(e["mode"]!=="cross_domain_id")return;if(/db_uicd=([^;]+)/.exec(document.cookie))return;var r=document.createElement("iframe");r.onload=function(){r.contentWindow.postMessage(window.location.href,"https://www.databreakers.com")};var n=function(e){if(e.origin==="https://www.databreakers.com"){a.saveToCookie("db_uicd",e.data)}};window.addEventListener("message",n,!1);r.setAttribute("src","https://www.databreakers.com/cookie-maker");r.style.display="none";setTimeout(function(){try{document.getElementsByTagName("head")[0].appendChild(r)}catch(e){this.errorHandler(e,"setUserIdCrossDomain appendChild(iframe)")}},1)}}catch(t){this.errorHandler(t,"setUserId")}},loadUserId:function(e,r){try{var n;if(e&&e.hasOwnProperty("mode")){switch(e["mode"]){case"generated_id":case"cross_domain_id":n=/db_ui=([^;]+)/.exec(document.cookie);if(n){return n[1]}
else{n=this.guid();this.saveToCookie("db_ui",n);return n};case"ga_cookie_id":if(e["parameter"]){var i=new RegExp(name+"=([^;]+)");n=i.exec(document.cookie)}
else{n=/_ga=([^;]+)/.exec(document.cookie)};if(n&&n.hasOwnProperty(1)){return n[1]}
else{this.warningHandler("user_identification ga_cookie_id")};case"data_layer":var a=eval(e["parameter"]);if(a){return a}
else{this.warningHandler("user_identification data_layer")}}}}catch(t){this.errorHandler(t,"loadUserId",{},r)}},loadUserIdCrossDomain:function(e,r){try{if(e&&e.hasOwnProperty("mode")){if(e["mode"]!=="cross_domain_id")return;identification=/db_uicd=([^;]+)/.exec(document.cookie);if(identification){return identification[1]}}}catch(t){this.errorHandler(t,"loadUserIdCrossDomain",{},r)}},loadRemoteData:function(e,r){var l=this;try{if(e){var s={"device":["type","brand","model"],"browser":["type","name","version","engine","engine_version"],"os":["name","version","platform"],"location":["ip","country_code","country_name","region_code","city","zip_code","time_code","latitude","longitude","metro_code"]};var a={};var i,o=localStorage.getItem("db_data_gatherer");if(!o){this.setRemoteData(r);return a};o=this.getBase64Object().decode(o);for(var n in s){if(e.hasOwnProperty(n)&&e[n]){a[n]={};s[n].forEach(function(e){i=new RegExp(n+"-"+e+"=([^;]+)").exec(o);if(i&&i.hasOwnProperty(1)){if(e=="ip"){a[n][e]=i[1].split(",")[0]}
else{a[n][e]=i[1]}}})}};if(getPropertyNames(a).length===0){this.setRemoteData(r)};return a}}catch(t){this.errorHandler(t,"loadRemoteData",{},r)}},loadResolution:function(e,r){try{if(e){if(screen.width!==undefined&&screen.height!==undefined){return{"width":screen.width,"height":screen.height}}
else{this.warningHandler("device resolution")}}}catch(t){this.errorHandler(t,"loadResolution",{},r)}},loadUserAgent:function(e,r){try{if(e){if(navigator.userAgent!==undefined){return navigator.userAgent}
else{this.warningHandler("browser user agent")}}}catch(t){this.errorHandler(t,"loadUserAgent",{},r)}},loadMaxTouchPoints:function(e,r){try{if(e){if(navigator.maxTouchPoints!==undefined){return navigator.maxTouchPoints}
else{this.warningHandler("device max_touch_points")}}}catch(t){this.errorHandler(t,"loadMaxTouchPoints",{},r)}},loadDevicePixelRatio:function(e,r){try{if(e){if(window.devicePixelRatio!==undefined){return window.devicePixelRatio}
else{this.warningHandler("device pixel ratio")}}}catch(t){this.errorHandler(t,"loadDevicePixelRatio",{},r)}},loadHardwareConcurrency:function(e,r){try{if(e){if(navigator.hardwareConcurrency!==undefined){return navigator.hardwareConcurrency}
else{this.warningHandler("device hardware concurrency")}}}catch(t){this.errorHandler(t,"loadHardwareConcurrency",{},r)}},loadOrientation:function(e,r){try{if(e){if(screen.orientation!==undefined&&screen.orientation.type!==undefined){return screen.orientation.type}
else{this.warningHandler("device orientation")}}}catch(t){this.errorHandler(t,"loadOrientation",{},r)}},loadLanguage:function(e,r){try{if(e){if(navigator.language!==undefined){return navigator.language}
else{this.warningHandler("browser language")}}}catch(t){this.errorHandler(t,"loadLanguage",{},r)}},loadWindowSize:function(e,r){try{if(e){var n={};if(window.outerWidth!==undefined){n["width"]=window.outerWidth}
else{this.warningHandler("browser window size width")};if(window.outerHeight!==undefined){n["height"]=window.outerHeight}
else{this.warningHandler("browser window size height")};return n}}catch(t){this.errorHandler(t,"loadWindowSize",{},r)}},loadBattery:function(e,r){try{if(e){if(navigator.getBattery!==undefined&&typeof navigator.getBattery().then==="function"){navigator.getBattery().then(function(e){sessionStorage.charging=e.charging;sessionStorage.level=e.level});return{"charging":sessionStorage.charging,"level":sessionStorage.level}}
else{this.warningHandler("device battery")}}}catch(t){this.errorHandler(t,"loadBattery",{},r)}},loadHistory:function(e,r){try{if(e){var n={};if(history!==undefined&&history.length!==undefined){n["length"]=history.length}
else{this.warningHandler("browser history length")};if(document.referrer!==undefined){if(document.referrer){n["referrer"]=document.referrer}}
else{this.warningHandler("browser history referrer")};return n}}catch(t){this.errorHandler(t,"loadHistory",{},r)}},loadGlobalVariables:function(e,r){var a=this;try{if(e&&e.hasOwnProperty("parameters")){var n={};e.parameters.forEach(function(e){try{var r=eval(e);n[e]=r}catch(t){a.warningHandler("global variable "+e)}});return n}}catch(t){this.errorHandler(t,"loadGlobalVariable",{},r)}},loadCustomAttributes:function(e,r){var o=this;try{if(e&&getPropertyNames(e).length>0){var a={};for(var n in e){try{var i=eval(e[n]);a[n]=i}catch(t){o.warningHandler("custom attribute"+n)}};return a}}catch(t){this.errorHandler(t,"loadCustomAttributes",{},r)}},loadCookie:function(e,r){var i=this;try{if(e&&e.hasOwnProperty("mode")&&e["mode"]){switch(e["mode"]){case"all":if(document.cookie!==undefined){var a={};document.cookie.split(";").forEach(function(e){e=e.replace(/^\s+|\s+$/g,"").split("=");a[e[0]]=e[1]});return a}
else{this.warningHandler("browser cookie")};case"specific":if(e.hasOwnProperty("parameters")&&e["parameters"]){if(document.cookie!==undefined){var n={};e["parameters"].forEach(function(e){var r=new RegExp(e+"=([^;]+)"),t=r.exec(document.cookie);if(t&&t.hasOwnProperty(1)){n[e]=t[1]}
else{i.warningHandler("browser cookie specific parameter "+e)}});return n}
else{this.warningHandler("browser cookie")}}
else{this.warningHandler("browser cookie specific mode parameters")};case"none":return}}}catch(t){this.errorHandler(t,"loadCookie",{},r)}},loadUrl:function(e,r){var l=this;try{var n={};var a={};var s={};var i;if(e&&e.hasOwnProperty("mode")&&e["mode"]){switch(e["mode"]){case"all":if(location&&location.href!==undefined&&location["href"]){n["page"]=location.href;n["pathname"]=location.pathname;n["hostname"]=this.extractHostname(location.href);var o=location.href.split("?")[1];if(o){o.split("&").forEach(function(e){i=e.split("=");a[i[0]]=i[1]})};if(getPropertyNames(a).length!==0){n["parameters"]=a};return n}
else{this.warningHandler("url")};case"specific":if(e.hasOwnProperty("parameters")&&e["parameters"]){if(location&&location.href!==undefined&&location["href"]){n["page"]=location.href;n["pathname"]=location.pathname;n["hostname"]=this.extractHostname(location.href);n["parameters"]={};var o=location.href.split("?")[1];if(o){o.split("&").forEach(function(e){i=e.split("=");a[i[0]]=i[1]});e["parameters"].forEach(function(e){if(a.hasOwnProperty(e)&&a[e]){s[e]=a[e]}
else{l.warningHandler("url specific parameter "+e)}});if(getPropertyNames(s).length!==0){n["parameters"]=s}};return n}
else{this.warningHandler("url")}}
else{this.warningHandler("url specific parameters")}}}}catch(t){this.errorHandler(t,"loadUrl",{},r)}},loadPoint:function(e,r){try{if(e){if(r.x!==undefined&&r.y!==undefined){return{x:r.x,y:r.y}}
else{this.warningHandler("event point")}}}catch(t){this.errorHandler(t,"loadPoint")}},guid:function(){try{function t(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}catch(e){this.errorHandler(e,"guid")}},getElementTreeXPath:function(e){try{var i=[];for(;e&&e.nodeType==Node.ELEMENT_NODE;e=e.parentNode){var n=0,a=!1;for(var r=e.previousSibling;r;r=r.previousSibling){if(r.nodeType==Node.DOCUMENT_TYPE_NODE)continue;if(r.nodeName==e.nodeName)++n};for(var r=e.nextSibling;r&&!a;r=r.nextSibling){if(r.nodeName==e.nodeName)a=!0};var o=(e.prefix?e.prefix+":":"")+e.localName,s=(n||a?"["+(n+1)+"]":"");i.splice(0,0,o+s)};return i.length?"/"+i.join("/"):null}catch(t){this.errorHandler(t,"getElementTreeXPath")}},getElementTreeCss:function(e){try{if(!(e instanceof Element))return;var i=[];while(e.nodeType===Node.ELEMENT_NODE){var r=e.nodeName.toLowerCase(),n=e,a=1;while(n=n.previousElementSibling){if(n.nodeName.toLowerCase()==r)a++};if(a!=1)r+=":nth-of-type("+a+")";i.unshift(r);e=e.parentNode};return i.join(" > ")}catch(t){this.errorHandler(t,"getElementTreeCss")}},initInView:function(){var t=this;try{this.appear=(function(){"use strict";var r=null,n=0,e={};function i(){var t=window.scrollY||window.pageYOffset;if(r!=null){e.velocity=t-r;e.delta=(e.velocity>=0)?e.velocity:(-1*e.velocity)};r=t;if(n){clearTimeout(n)};n=setTimeout(function(){r=null},30)};addEventListener("scroll",i,!0);function a(e,r,n){var a=e.getBoundingClientRect(),o=((a.top+a.height)>=0&&(a.left+a.width)>=0&&(a.bottom-a.height)<=((window.innerHeight||document.documentElement.clientHeight)-(r*a.height))&&(a.right-a.width)<=((window.innerWidth||document.documentElement.clientWidth)-(r*a.width)));if(o&&n){if(n["mode"]==="xpath"){var i=t.selectElements(n["selection"]).pop()}
else{var i=document.querySelector(n["selection"])};i=i.getBoundingClientRect();o=(Math.round(a.width+a.left)>Math.round(i.left))&&(Math.round(a.left)<Math.round(i.left+i.width)-10)};return o};return function(r){return(function(r){var h=!1,m=[],i=new HashMap,s,u,n={},g,c;function v(e,t){return function(){var r=this,n=arguments;clearTimeout(s);s=setTimeout(function(){e.apply(r,n)},t)}};function o(){if(e.delta<n.delta.speed){if(!u){u=!0;l();setTimeout(function(){u=!1},n.delta.timeout)}}(v(function(){l()},n.debounce)())};function p(){l();addEventListener("scroll",o,!0);addEventListener("resize",o,!0);c=new MutationObserver(o);c.observe(document.body,{childList:!0,subtree:!0,attributes:!0})};function y(){m=[];if(s){clearTimeout(s)};f()};function f(){removeEventListener("scroll",o,!0);removeEventListener("resize",o,!0);c.disconnect()};function l(){try{var r=n.getElements();r.forEach(function(e){if(e==undefined)return;if(i.get(e)===undefined)i.set(e,!0);var t=window.getComputedStyle(e);if(e&&a(e,n.bounds,n.rootSelector)&&i.get(e)&&t.display!=="none"&&t.visibility!=="hidden"&&t.opacity!=="0"){var r=e,o,s=!0;while(r){o=window.getComputedStyle(r);if(o.display=="none"||o.visibility=="hidden"||o.opacity=="0"){s=!1;break};r=r.parentElement};if(s){n.appear(e);i.set(e,!1)}};if(n.reappearOption&&(!a(e,n.bounds,n.rootSelector)||t.display==="none"||t.visibility==="hidden"||t.opacity==="0")){i.set(e,!0)}})}catch(e){t.errorHandler(e,"initInView doCheckAppear")}};function d(){if(h){return};h=!0;if(n.init){n.init()};g=n.getElements;p()};return function(e){e=e||{};n={init:e.init,elements:e.elements,appear:e.appear,disappear:e.disappear,done:e.done,reappearOption:e.reappearOption,reappear:e.reappear,bounds:e.bounds||0,debounce:e.debounce||50,delta:{speed:e.deltaSpeed||50,timeout:e.deltaTimeout||500},getElements:e.getElements,rootSelector:e.rootSelector};addEventListener("DOMContentLoaded",d,!1);var r=!1;if(Function("/*@cc_on return document.documentMode===10@*/")()){r=!0};var t=document.readyState==="complete"||document.readyState==="loaded";if(r){if(t){d()}}
else{if(t||document.readyState==="interactive"){d()}};return{trigger:function(){l()},pause:function(){f()},resume:function(){p()},destroy:function(){y()}}}}()(r))}}())}catch(e){this.errorHandler(e,"initInView")}},initPolyfills:function(){try{window.getPropertyNames=Object.getOwnPropertyNames||function(e){var r=[];for(var t in e){if(e.hasOwnProperty(t)){r.push(t)}};return r};if(typeof Array.prototype.forEach!="function"){Array.prototype.forEach=function(e,t){if(typeof this.length!="number")return;if(typeof e!="function")return;if(typeof this=="object"){for(var r=0;r<this.length;r++){if(r in this){e.call(t||this,this[r],r,this)}
else{return}}}}};if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++){e.call(t,this[r],r,this)}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){var r=this.length>>>0,t=Number(arguments[1])||0;t=(t<0)?Math.ceil(t):Math.floor(t);if(t<0)t+=r;for(;t<r;t++){if(t in this&&this[t]===e)return t};return-1}};!function(e){var t=e.Element.prototype;"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var r=(this.document||this.ownerDocument).querySelectorAll(e),t=0;r[t]&&r[t]!==this;)++t;return Boolean(r[t])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode};return null})}(window);if(!Object.keys){Object.keys=(function(){var t=Object.prototype.hasOwnProperty,r=!({toString:null}).propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=e.length;return function(a){if(typeof a!=="object"&&typeof a!=="function"||a===null)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in a){if(t.call(a,s))o.push(s)};if(r){for(var i=0;i<n;i++){if(t.call(a,e[i]))o.push(e[i])}};return o}})()}}catch(e){this.errorHandler(e,"initPolyfills")}},resolveRunConditions:function(e){try{if(e.length>0){var r=[];e.forEach(function(e){r.push(eval(e))});return r.every(function(e){return e})}
else{return!0}}catch(t){this.errorHandler(t,"resolveRunConditions")}},extractHostname:function(e){try{var r;if(e.indexOf("://")>-1){r=e.split("/")[2]}
else{r=e.split("/")[0]};r=r.split(":")[0];r=r.split("?")[0];r=r.replace("www.","");return r}catch(t){this.errorHandler(t,"extractHostname")}},getBase64Object:function(){try{var t=this;return{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var o="",s,r,n,u,c,l,a,i=0;e=t.getBase64Object()._utf8_encode(e);while(i<e.length){s=e.charCodeAt(i++);r=e.charCodeAt(i++);n=e.charCodeAt(i++);u=s>>2;c=(s&3)<<4|r>>4;l=(r&15)<<2|n>>6;a=n&63;if(isNaN(r)){l=a=64}
else if(isNaN(n)){a=64};o=o+this._keyStr.charAt(u)+this._keyStr.charAt(c)+this._keyStr.charAt(l)+this._keyStr.charAt(a)};return o},decode:function(e){var r="",s,l,u,c,i,a,o,n=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(n<e.length){c=this._keyStr.indexOf(e.charAt(n++));i=this._keyStr.indexOf(e.charAt(n++));a=this._keyStr.indexOf(e.charAt(n++));o=this._keyStr.indexOf(e.charAt(n++));s=c<<2|i>>4;l=(i&15)<<4|a>>2;u=(a&3)<<6|o;r=r+String.fromCharCode(s);if(a!=64){r=r+String.fromCharCode(l)};if(o!=64){r=r+String.fromCharCode(u)}};r=t.getBase64Object()._utf8_decode(r);return r},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var r="";for(var n=0;n<e.length;n++){var t=e.charCodeAt(n);if(t<128){r+=String.fromCharCode(t)}
else if(t>127&&t<2048){r+=String.fromCharCode(t>>6|192);r+=String.fromCharCode(t&63|128)}
else{r+=String.fromCharCode(t>>12|224);r+=String.fromCharCode(t>>6&63|128);r+=String.fromCharCode(t&63|128)}};return r},_utf8_decode:function(e){var n="",t=0,r=c1=c2=0;while(t<e.length){r=e.charCodeAt(t);if(r<128){n+=String.fromCharCode(r);t++}
else if(r>191&&r<224){c2=e.charCodeAt(t+1);n+=String.fromCharCode((r&31)<<6|c2&63);t+=2}
else{c2=e.charCodeAt(t+1);c3=e.charCodeAt(t+2);n+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);t+=3}};return n}}}catch(e){this.errorHandler(e,"getBase64Object")}},sendCustomEvent:function(e,r,n){try{var o=runDataGatherer.getConfig(),s=runDataGatherer.getUrl(),i=runDataGatherer.prepareOuput(o),a={};a.name=e;a.type=r;a.attributes=n;i["dataPoints"][0]["attributes"]["event"]=a;runDataGatherer.makeCorsRequest(i,s,"POST",null,!0)}catch(t){}},sendCustomEventToGa:function(e,r,n,a){try{var i=a?a:window.ga;i.getAll()[0].send({"hitType":"event","eventCategory":"databreakers_reporting-"+e+"-"+r,"eventLabel":this.loadUserId(this.getConfig()["user_identification"]),"eventAction":n,"nonInteraction":1})}catch(t){this.errorHandler(t,"sendCustomEventToGa")}},saveAbTestGroupToLocalStorage:function(e,r){try{var a=localStorage.getItem("db_last_ab_test_report"),i=this;if(a){var l=(new Date()-new Date(parseInt(a,10)))/60000;if(l<60){return}};if(e){var n=e}
else{var n=this.loadUserId({"mode":"cross_domain_id"})};if(!r){r=["main"]};var o="https://api.databreakers.com/v1/alza/abtests/users/"+n,s=function(e){try{if(e.readyState===e.DONE&&e.status===200){localStorage.setItem("db_abtests",e.responseText);if(runDataGatherer.getConfig()["events"]["groups"][0]["handler"].indexOf("runAbTestGroupReportingToGa")<0){localStorage.setItem("db_last_ab_test_report",Date.now())}}
else{i.errorHandler({},"saveAbTestGroupToLocalStorage (abtests api response) 1, xhr.status: "+e.status+", xhr.readyState: "+e.readyState+", xhr.responseText: "+e.responseText)}}catch(t){i.errorHandler(t,"saveAbTestGroupToLocalStorage (abtests api response) 2, xhr.status: "+e.status+", xhr.readyState: "+e.readyState+", xhr.responseText: "+e.responseText)}};this.makeCorsRequest({"abtestTypes":r},o,"POST",s,!0)}catch(t){this.errorHandler(t,"saveAbTestGroupToLocalStorage")}},runAbTestGroupReportingToGa:function(e,r,n,a,i,o){try{this.saveAbTestGroupToLocalStorage(a,o);var s=localStorage.getItem("db_last_ab_test_report"),d=this;if(!n&&n!=0){n=600};if(s){var c=(new Date()-new Date(parseInt(s)))/1000;if(c<n){return}};var l=function(){try{if(e&&r){var a=e,o=r}
else{var n=JSON.parse(localStorage.getItem("db_abtests"));for(var s in n){if(n[s]["type"]=="main"){var a=n[s]["type"],o=n[s]["tags"].join(",");break}}};if(a&&o){var l=i?i:window.ga;o.split(",").forEach(function(e){l.getAll()[0].send({"hitType":"event","eventCategory":"databreakers_reporting","eventLabel":a,"eventAction":e,"nonInteraction":1})})}}catch(t){d.errorHandler(t,"runAbTestGroupReportingToGa runReport")}},u=setInterval(function(){if((window.hasOwnProperty("ga")&&window.ga.hasOwnProperty("getAll"))||(i&&i.hasOwnProperty("getAll"))){clearInterval(u);l();localStorage.setItem("db_last_ab_test_report",Date.now())}},300)}catch(t){this.errorHandler(t,"runAbTestGroupReportingToGa")}},runSpyReportingToGa:function(e,r,n){var a=this;try{this.spyReportingToGaCallbacks.push({"eventAction":e,"callback":r});if(this.spyReportingToGaCallbacks.length>1)return;var i=function(){try{(function(e){var s,i,n=function(t){if(e=null,!t.callback||"function"!=typeof t.callback)throw new Error("["+t.debugLogPrefix+"] Aborting; No listener callback provided.");return t.gaObjName=t.gaObjName||window.GoogleAnalyticsObject||"ga",t.debug=!!t.debug,t.debugLogPrefix=t.debugLogPrefix||"gaSpy",t}("function"==typeof e?{callback:e}:e),a=n.gaObjName,t=window[a],r=window.console&&n.debug?function(){var e=[].slice.call(arguments);e.unshift("["+n.debugLogPrefix+"]"),console.log.apply(console,e)}:function(){},l=function(e){var a,i={args:e,the:{}},t=i.the;return n.debug&&function(t,n){for(t="Intercepted: ga(",n=0;n<e.length;n++)t+="string"==typeof e[n]?"\""+e[n]+"\"":e[n],n+1<e.length&&(t+=", ");t+=")",r(t)}(),"function"==typeof e[0]?t.callback=e[0]:e[0]&&e[0].split&&(a=e[0].split("."),t.trackerName=a.length>1?a[0]:"t0",t.command=a.length>1?a[1]:a[0],a=a[a.length-1].split(":"),t.pluginName=a.length>1?a[0]:void 0,t.pluginMethodName=a.length>1?a[1]:void 0,"require"===t.command||"provide"===t.command?(t.pluginName=e[1],"provide"===t.command&&(t.pluginConstructor=e[2])):("send"===t.command&&(t.hitType=e[e.length-1].hitType||e[1]),"object"==typeof e[e.length-1]&&(t.trackerName=e[e.length-1].name||t.trackerName))),r("Run listener callback",t),!1!==n.callback(i)||(r("Block hit")||!1)},o=function(){var t=[].slice.call(arguments);if(n.debug){if(!l(t))return}
else try{if(!l(t))return}catch(e){};return o._gaOrig.apply(o._gaOrig,t)},u=function(){var e,t=o._gaOrig=window[a];r("Hijack",t._gaOrig?"(already hijacked)":""),window[a]=o;for(e in t)t.hasOwnProperty(e)&&(window[a][e]=t[e])};if(r("Config:",n),t||(r("Instantiate GA command queue"),t=window[a]=function(){(window[a].q=window[a].q||[]).push(arguments)},t.l=1*new Date),t.getAll)r("GA already loaded; cannot see previous commands"),u();else{if(!t.l)throw new Error("["+n.debugLogPrefix+"] Aborting; `"+a+"` not the GA object.");if(r("Command queue instantiated, but library not yet loaded"),t.q&&t.q.length){for(r("Applying listener to",t.q.length," queued commands"),s=[],i=0;i<t.q.length;i++)l([].slice.call(t.q[i]))&&s.push(t.q[i]);t.q=s}
else t.q=[];t(u),u()}})(function(e){if(e.args.length>=2&&e.args[1].hasOwnProperty("eventAction")){a.spyReportingToGaCallbacks.forEach(function(t){if(e.args[1]["eventAction"]==t["eventAction"]&&typeof t["callback"]=="function"){t["callback"](e)}})}})}catch(e){a.errorHandler(e,"runSpyReportingToGa runReporting callback")}},o=setInterval(function(){if((window.hasOwnProperty("ga")&&window["ga"].hasOwnProperty("getAll"))||n){i();clearInterval(o)}},300)}catch(t){this.errorHandler(t,"runSpyReportingToGa")}}};function HashMap(e){this.current=undefined;this.size=0;if(e===!1)this.disableLinking()};HashMap.noop=function(){return this};HashMap.illegal=function(){throw new Error("illegal operation for maps without linking")};HashMap.from=function(e,t){var n=new HashMap;for(var r in e){if(t||e.hasOwnProperty(r))n.set(r,e[r])};return n};HashMap.prototype.disableLinking=function(){this.link=HashMap.noop;this.unlink=HashMap.noop;this.disableLinking=HashMap.noop;this.next=HashMap.illegal;this.key=HashMap.illegal;this.value=HashMap.illegal;this.removeAll=HashMap.illegal;return this};HashMap.prototype.hash=function(e){return(typeof e)+" "+(e instanceof Object?(e.__hash||(e.__hash=++arguments.callee.current)):e.toString())};HashMap.prototype.hash.current=0;HashMap.prototype.get=function(e){var t=this[this.hash(e)];return t===undefined?undefined:t.value};HashMap.prototype.set=function(e,t){var r=this.hash(e);if(this[r]===undefined){var n={key:e,value:t};this[r]=n;this.link(n);++this.size}
else this[r].value=t;return this};HashMap.prototype.remove=function(e){var t=this.hash(e),r=this[t];if(r!==undefined){--this.size;this.unlink(r);delete this[t]};return this};HashMap.prototype.removeAll=function(){while(this.size)this.remove(this.key());return this};HashMap.prototype.link=function(e){if(this.size==0){e.prev=e;e.next=e;this.current=e}
else{e.prev=this.current.prev;e.prev.next=e;e.next=this.current;this.current.prev=e}};HashMap.prototype.unlink=function(e){if(this.size==0)this.current=undefined;else{e.prev.next=e.next;e.next.prev=e.prev;if(e===this.current)this.current=e.next}};HashMap.prototype.next=function(){this.current=this.current.next};HashMap.prototype.key=function(){return this.current.key};HashMap.prototype.value=function(){return this.current.value};var runIndividualizer={individualizerScriptId:"",individualizerLogLevel:"",element:{},nativeEvent:{},requestData:{},responseData:{},responseItem:{},responseVariant:{},responseVariantIndex:0,responseVariants:{},recommendations:{},durations:{},requests:{},observers:{},config:{},pushStateCallbacks:[],lock:!1,idRequest:"",getConfig:function(){try{if(!this.config.hasOwnProperty("script_id")){var t={"script_id":"default","running":!0,"log_level":"warning","run_conditions":["!(new RegExp('AdsBot-Google')).test(navigator.userAgent);","!(new RegExp('Googlebot')).test(navigator.userAgent);","!(new RegExp('YandexMobileBot')).test(navigator.userAgent);","!(new RegExp('screenshot-generator')).test(navigator.userAgent);","localStorage != null && localStorage.getItem('db_forced_ab_tests')"],"user_identification":"id","declarations":"var el = runIndividualizer.createElementFromHTML(\"<div id='db_search_autocomplete' style='position: relative; top: 2.75px; left: 0px; z-index: 100000; width: 390px; display: none;' tabindex='0'> <ul id='db_search_autocomplete_search_queries' class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style='border-radius: 0px;'> <li class='t1 ui-menu-item'> <a class='top ui-menu-item-wrapper' tabindex='-1'><span class='cnt'><\/span><\/a> <\/li><\/ul> <ul class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style='border-radius: 0px;'> <li aria-disabled='true' class='t0 ui-state-disabled'><span class='groupBlock ui-menu-item-wrapper' tabindex='-1'><span class='groupLabel'>Zbo\u017e\u00ed<\/span><\/span><\/li><\/ul> <ul id='db_search_autocomplete_products' class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style='border-radius: 0;'> <li class='t3 ui-menu-item' title=''> <a class='ui-menu-item-wrapper' tabindex='-1'><img alt='' src='https:\/\/cdn.alza.cz\/Foto\/f6\/RI\/RIR0100c1.jpg'><span class='cnt'><span class='lbl'><\/span><\/span><\/a> <\/li><\/ul> <ul class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style='border-radius: 0px;'> <li aria-disabled='true' class='t0 ui-state-disabled'><span class='groupBlock ui-menu-item-wrapper' tabindex='-1'><span class='groupLabel'>Kategorie<\/span><\/span><\/li><\/ul> <ul id='db_search_autocomplete_categories' class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style=' border-radius: 0;'> <li class='t5 ui-menu-item'> <a class='ui-menu-item-wrapper' tabindex='-1'><span class='cnt'><i class='fa fa-folder'><\/i><span><\/span><\/span><\/a> <\/li><\/ul> <ul class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style='border-radius: 0px;'> <li aria-disabled='true' class='t0 ui-state-disabled'><span class='groupBlock ui-menu-item-wrapper' tabindex='-1'><span class='groupLabel'>Zna\u010dka<\/span><\/span><\/li><\/ul> <ul id='db_search_autocomplete_producers' class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style='border-radius: 0px;'> <li class='t2 ui-menu-item'> <a class='ui-menu-item-wrapper' tabindex='-1'><span class='cnt'><\/span><\/a> <\/li><\/ul> <ul class='ui-menu ui-widget ui-widget-content ui-autocomplete ui-front' style='padding-top: 10px;'> <li class='t7 ui-menu-item'> <a class='ui-menu-item-wrapper' href='\/search.htm?exps=iphon' style='margin-top: 0;' tabindex='-1'><span class='cnt'>Zobrazit v\u0161echny v\u00fdsledky<\/span><\/a> <\/li><\/ul><\/div>\");setTimeout(function() {document.getElementById('search').appendChild(el);}, 2000);","positions":{"search_autocomplete_categories":{"type":"recommendation","running":!0,"run_condition":"","multiple":!0,"parent_of":[],"root_selector":{"mode":"css","selection":"#db_search_autocomplete_categories"},"run_handler":"","input_handler":"runIndividualizer.requestData.searchQuery = runIndividualizer.element.value;runIndividualizer.requestData.filter = '_virtual_item = 1';","output_handler":"var el = document.getElementById('db_search_autocomplete_categories');if (el) {el.style.display = 'block';el.previousElementSibling.style.display = 'block';}","before_render_handler":"document.querySelectorAll('#db_search_autocomplete_categories li:not(:first-child)').forEach(function(item) {item.remove();});","empty_response_handler":"var el = document.getElementById('db_search_autocomplete_categories');if (el) {el.style.display = 'none';el.previousElementSibling.style.display = 'none';}","events":[{"run_condition":"","type":["input"],"selector":{"mode":"css","selection":"#edtSearch"},"input_handler":"","timeout_handler":"","timeout":4000}],"item_attributes":{"Category":{"property":"innerHTML","output_handler":"runIndividualizer.responseData = runIndividualizer.responseData.split('{\\\"').pop().split('\\\":1')[0];","run_condition":"","internal_selector":{"mode":"css","selection":".cnt span"},"required":!0}}},"search_autocomplete_producers":{"type":"recommendation","running":!0,"run_condition":"","multiple":!0,"parent_of":[],"root_selector":{"mode":"css","selection":"#db_search_autocomplete_producers"},"run_handler":"","input_handler":"runIndividualizer.requestData.searchQuery = runIndividualizer.element.value;runIndividualizer.requestData.filter = '_virtual_item = 11';","output_handler":"var el = document.getElementById('db_search_autocomplete_producers');if (el) {el.style.display = 'block';el.previousElementSibling.style.display = 'block';}","before_render_handler":"document.querySelectorAll('#db_search_autocomplete_producers li:not(:first-child)').forEach(function(item) {item.remove();});","empty_response_handler":"var el = document.getElementById('db_search_autocomplete_producers');if (el) {el.style.display = 'none';el.previousElementSibling.style.display = 'none';}","events":[{"run_condition":"","type":["input"],"selector":{"mode":"css","selection":"#edtSearch"},"input_handler":"","timeout_handler":"","timeout":4000}],"item_attributes":{"Producer":{"property":"innerHTML","output_handler":"","run_condition":"","internal_selector":{"mode":"css","selection":".cnt"},"required":!0}}},"search_autocomplete_products":{"type":"recommendation","running":!0,"run_condition":"","multiple":!0,"parent_of":[],"root_selector":{"mode":"css","selection":"#db_search_autocomplete_products"},"run_handler":"","input_handler":"runIndividualizer.requestData.searchQuery = runIndividualizer.element.value;var el = document.getElementById('db_search_autocomplete_css');if (!el) {el = runIndividualizer.createElementFromHTML(\"<style id='db_search_autocomplete_css'>#ui-id-1 { display: none !important; }<\/style>\");document.querySelector('head').append(el);}","output_handler":"document.querySelector('#db_search_autocomplete ul:last-child a').setAttribute('href', '\/search.htm?exps=' + document.getElementById('edtSearch').value.split(' ').join('+'));var el = document.getElementById('db_search_autocomplete');el.style.display = 'block';","before_render_handler":"document.querySelectorAll('#db_search_autocomplete_products li:not(:first-child)').forEach(function(item) {item.remove();});","empty_response_handler":"var el = document.getElementById('db_search_autocomplete_css');if (el) {el.remove();}document.getElementById('db_search_autocomplete').style.display = 'none';","events":[{"type":["input"],"selector":{"mode":"css","selection":"#edtSearch"},"input_handler":"","timeout_handler":"if (!runIndividualizer.recommendations.hasOwnProperty(runIndividualizer.idRequest)) {var el = document.getElementById('db_search_autocomplete_css');if (el) {el.remove();}document.getElementById('db_search_autocomplete').style.display = 'none';}","timeout":4000}],"item_attributes":{"Image":{"property":"src","output_handler":"runIndividualizer.element.setAttribute('alt', runIndividualizer.responseItem.SEOname);","run_condition":"","internal_selector":{"mode":"css","selection":"img"},"required":!0},"SEOname":{"property":"innerHTML","output_handler":"runIndividualizer.element.closest('li').setAttribute('title', runIndividualizer.responseData);","run_condition":"","internal_selector":{"mode":"css","selection":".cnt .lbl"},"required":!0},"Url":{"property":"href","output_handler":"","run_condition":"","internal_selector":{"mode":"css","selection":"a"},"required":!0}}},"search_autocomplete_search_queries":{"type":"recommendation","running":!0,"run_condition":"","multiple":!0,"parent_of":[],"root_selector":{"mode":"css","selection":"#db_search_autocomplete_search_queries"},"run_handler":"","input_handler":"runIndividualizer.requestData.searchQuery = runIndividualizer.element.value;runIndividualizer.requestData.filter = '_virtual_item = 2';","output_handler":"var el = document.getElementById('db_search_autocomplete_search_queries');if (el) {el.style.display = 'block';}","before_render_handler":"document.querySelectorAll('#db_search_autocomplete_search_queries li:not(:first-child)').forEach(function(item) {item.remove();});","empty_response_handler":"var el = document.getElementById('db_search_autocomplete_search_queries');if (el) {el.style.display = 'none';}","events":[{"run_condition":"","type":["input"],"selector":{"mode":"css","selection":"#edtSearch"},"input_handler":"","timeout_handler":"","timeout":4000}],"item_attributes":{"_customer_item_id":{"property":"innerHTML","output_handler":"var item = runIndividualizer.responseData.split('\"_search\".')[1].replace(\/\"\/g, '');runIndividualizer.responseData = item;runIndividualizer.element.closest('a').setAttribute('href', '\/search.htm?exps=' + item.replace(\/ \/g, '+'));","run_condition":"","internal_selector":{"mode":"css","selection":".cnt"},"required":!1}}}}};this.config=JSON.parse(JSON.stringify(t))};return this.config}catch(e){this.errorHandler(e,"getConfig")}},getUrl:function(){return"https://individualizer.databreakers.com/v1/individualizer"},getVersion:function(){return 1613465998},errorHandler:function(e,r,n){try{if(["info","warning","error"].indexOf(this.individualizerLogLevel)>=0){var a=runDataGatherer.prepareOuput(runDataGatherer.getConfig(),!0);a["dataPoints"][0]["attributes"]["message_type"]="error";a["dataPoints"][0]["attributes"]["error_name"]=e.name;a["dataPoints"][0]["attributes"]["error_message"]="area: "+r+", "+e.message+", "+e.result;a["dataPoints"][0]["attributes"]["script_id"]=this.individualizerScriptId;a["dataPoints"][0]["attributes"]["script_version"]=this.getVersion();a["dataPoints"][0]["attributes"]["script_type"]="individualizer";if(n&&getPropertyNames(n).length!==0){a.dataPoints[0].attributes.original_request={"type":n.type,"method":n.method,"source_url":{"page":n.url}};if(n.hasOwnProperty("body")){a.dataPoints[0].attributes.original_request.body=JSON.stringify(n.body,null)}};var i=runDataGatherer.createCORSRequest("POST",runDataGatherer.getUrl());i.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();i.onerror=null;return!1};if(i){i.send(JSON.stringify(a))}}}catch(t){}},warningHandler:function(e,r,n,a,o,s){try{if(["info","warning"].indexOf(this.individualizerLogLevel)>=0){var i=runDataGatherer.prepareOuput(runDataGatherer.getConfig(),!0);i["dataPoints"][0]["attributes"]["message_type"]="warning";i["dataPoints"][0]["attributes"]["warning_type"]=r;i["dataPoints"][0]["attributes"]["warning_message"]=e;i["dataPoints"][0]["attributes"]["script_id"]=this.individualizerScriptId;i["dataPoints"][0]["attributes"]["script_version"]=this.getVersion();i["dataPoints"][0]["attributes"]["script_type"]="individualizer";if(n){i["dataPoints"][0]["attributes"]["request_duration_backend"]=n};if(a){i["dataPoints"][0]["attributes"]["request_duration_all"]=a};if(o){i["dataPoints"][0]["attributes"]["id_position"]=o};if(s){i["dataPoints"][0]["attributes"]["no_response_to_render_duration"]=s};var l=runDataGatherer.createCORSRequest("POST",runDataGatherer.getUrl());l.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();l.onerror=null;return!1};if(l){l.send(JSON.stringify(i))}}}catch(t){}},infoHandler:function(e,r,n,a,s){try{if(["info","warning","error"].indexOf(this.individualizerLogLevel)>=0){var i=runDataGatherer.prepareOuput(runDataGatherer.getConfig());i["dataPoints"][0]["attributes"]["message_type"]="info";i["dataPoints"][0]["attributes"]["info_type"]=r;i["dataPoints"][0]["attributes"]["info_message"]=e;i["dataPoints"][0]["attributes"]["request_duration_backend"]=n;i["dataPoints"][0]["attributes"]["request_duration_all"]=a;i["dataPoints"][0]["attributes"]["id_position"]=s;i["dataPoints"][0]["attributes"]["script_id"]=this.individualizerScriptId;i["dataPoints"][0]["attributes"]["script_version"]=this.getVersion();i["dataPoints"][0]["attributes"]["script_type"]="individualizer";var o=runDataGatherer.createCORSRequest("POST",runDataGatherer.getUrl());o.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();o.onerror=null;return!1};if(o){o.send(JSON.stringify(i))}}}catch(t){var i={"dataPoints":[{"attributes":{"script_id":this.individualizerScriptId,"script_version":this.getVersion(),"config_version":runDataGatherer.getVersionOfConfig(),"script_type":"individualizer","source_url":{"page":location.href},"user_agent":navigator.userAgent,"message_type":"info","info_type":r,"info_message":e}}]};var o=runDataGatherer.createCORSRequest("POST",runDataGatherer.getUrl());o.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();o.onerror=null;return!1};if(o){o.send(JSON.stringify(i))}}},initPolyfills:function(){try{if("document" in self){if(!("classList" in document.createElement("_"))||document.createElementNS&&!("classList" in document.createElementNS("http://www.w3.org/2000/svg","g"))){(function(e){"use strict";if(!("Element" in e))return;var s="classList",r="prototype",l=e.Element[r],i=Object,h=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},p=Array[r].indexOf||function(e){var t=0,r=this.length;for(;t<r;t++){if(t in this&&this[t]===e){return t}};return-1},u=function(e,t){this.name=e;this.code=DOMException[e];this.message=t},a=function(e,t){if(t===""){throw new u("SYNTAX_ERR","The token must not be empty.")};if(/\s/.test(t)){throw new u("INVALID_CHARACTER_ERR","The token must not contain space characters.")};return p.call(e,t)},c=function(e){var r=h.call(e.getAttribute("class")||""),n=r?r.split(/\s+/):[],t=0,a=n.length;for(;t<a;t++){this.push(n[t])};this._updateClassName=function(){e.setAttribute("class",this.toString())}},n=c[r]=[],d=function(){return new c(this)};u[r]=Error[r];n.item=function(e){return this[e]||null};n.contains=function(e){return~a(this,e+"")};n.add=function(){var t=arguments,r=0,i=t.length,e,n=!1;do{e=t[r]+"";if(!~a(this,e)){this.push(e);n=!0}}
while(++r<i);if(n){this._updateClassName()}};n.remove=function(){var r=arguments,n=0,o=r.length,t,i=!1,e;do{t=r[n]+"";e=a(this,t);while(~e){this.splice(e,1);i=!0;e=a(this,t)}}
while(++n<o);if(i){this._updateClassName()}};n.toggle=function(e,t){var r=this.contains(e),n=r?t!==!0&&"remove":t!==!1&&"add";if(n){this[n](e)};if(t===!0||t===!1){return t}
else{return!r}};n.replace=function(e,t){var r=a(e+"");if(~r){this.splice(r,1,t);this._updateClassName()}};n.toString=function(){return this.join(" ")};if(i.defineProperty){var o={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(l,s,o)}catch(t){if(t.number===undefined||t.number===-0x7FF5EC54){o.enumerable=!1;i.defineProperty(l,s,o)}}}
else if(i[r].__defineGetter__){l.__defineGetter__(s,d)}}(self))}(function(){"use strict";var e=document.createElement("_");e.classList.add("c1","c2");if(!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var r,n=arguments.length;for(r=0;r<n;r++){e=arguments[r];t.call(this,e)}}};t("add");t("remove")};e.classList.toggle("c3",!1);if(e.classList.contains("c3")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){if(1 in arguments&&!this.contains(e)===!t){return t}
else{return r.call(this,e)}}};if(!("replace" in document.createElement("_").classList)){DOMTokenList.prototype.replace=function(e,t){var r=this.toString().split(" "),n=r.indexOf(e+"");if(~n){r=r.slice(n);this.remove.apply(this,r);this.add(t);this.add.apply(this,r.slice(1))}}};e=null}())}(function(e,t){"use strict";var n="amd",r="exports";if(typeof define==="function"&&define[n]){define(function(){return t(e)})}
else if(typeof module==="function"&&module[r]){module[r]=t(e)}
else{t(e)}}(this,function(){"use strict";var o,s,r,c,d,l=window.document,n,h,u,a,e=l.createElement("_"),t="DOMAttrModified";function f(e){delete e.target._datasetCache};function m(e){return e.replace(c,function(e,t){return t.toUpperCase()})};function p(){var e={};s=this.attributes;for(r=0,h=s.length;r<h;r+=1){o=s[r];u=o.name.match(d);if(u){e[m(u[1])]=o.value}};return e};function i(){if(n){e.removeEventListener(t,i,!1)}
else{e.detachEvent("on"+t,i)};a=!0};if(e.dataset!==undefined){return};c=/\-([a-z])/ig;d=/^data\-(.+)/;n=!!l.addEventListener;a=!1;if(n){e.addEventListener(t,i,!1)}
else{e.attachEvent("on"+t,i)};e.setAttribute("foo","bar");Object.defineProperty(window.Element.prototype,"dataset",{get:a?function(){if(!this._datasetCache){this._datasetCache=p.call(this)};return this._datasetCache}:p});if(a&&n){l.addEventListener(t,f,!1)}}));(function(e){e.forEach(function(e){if(e.hasOwnProperty("remove")){return};Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);(function(e){e.forEach(function(e){if(e.hasOwnProperty("prepend")){return};Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var r=t instanceof Node;e.appendChild(r?t:document.createTextNode(String(t)))});this.insertBefore(e,this.firstChild)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype])}catch(e){this.errorHandler(e,"initPolyfills")}},getElements:function(e,r,n){try{if(!r)return[n];if(e==="xpath"){return runDataGatherer.selectElements(r,n)}
else{return Array.prototype.slice.call(n.querySelectorAll(r))}}catch(t){this.errorHandler(t,"getElements")}},initListening:function(e){try{var a={};for(var s in e["positions"]){if(!e["positions"][s]["running"])continue;if(e["positions"][s]["run_condition"]){if(!eval(e["positions"][s]["run_condition"]))continue};for(var i in e["positions"][s]["events"]){for(var m in e["positions"][s]["events"][i]["type"]){var r=e["positions"][s]["events"][i]["type"][m];if(r!=="DOMContentLoaded"){var o=e["positions"][s],n=o["events"][i]["selector"],c=o["events"][i]["timeout"],d=o["events"][i]["timeout_handler"],h=o["events"][i].hasOwnProperty("input_handler")?o["events"][i]["input_handler"]:null,p=o["events"][i].hasOwnProperty("observer")?o["events"][i]["observer"]:null,f=o["events"][i].hasOwnProperty("run_condition")?o["events"][i]["run_condition"]:"";if(!a.hasOwnProperty(r)){a[r]={}};if(!a[r].hasOwnProperty(n["mode"])){a[r][n["mode"]]={}};if(!a[r][n["mode"]].hasOwnProperty(n["selection"])){a[r][n["mode"]][n["selection"]]={}};if(!a[r][n["mode"]][n["selection"]].hasOwnProperty(s)){a[r][n["mode"]][n["selection"]][s]={"runCondition":f,"position":o,"timeout":c,"timeoutHandler":d,"eventHandler":h,"eventObserver":p}}}}}};for(var r in a){for(var l in a[r]){for(var u in a[r][l]){var n={"mode":l,"selection":u};this.setListeningCallback(e,r,a[r][l][u],n)}}}}catch(t){this.errorHandler(t,"initListening")}},setListeningCallback:function(e,r,n,i){var a=this;try{if(r==="pushState"){var o=function(){try{var i=[],l={};var s={};var o={};for(var r in n){if(!n[r]["position"]["running"])continue;if(n[r]["position"]["run_condition"].length){if(!eval(n[r]["position"]["run_condition"])){continue}};if(n[r]["runCondition"].length){if(!eval(n[r]["runCondition"])){continue}};a.lock=!1;a.requestData={};eval(n[r]["eventHandler"]);eval(n[r]["position"]["input_handler"]);if(a.lock)continue;i.push(a.prepareRequest(r,a.requestData,n[r]["position"]["item_attributes"],e));l[r]=n[r]["timeout"];s[r]=n[r]["timeoutHandler"];o[r]=n[r]["eventObserver"]};if(!i.length)return;a.sendBatchRequest(i,e,l,s,o)}catch(t){a.errorHandler(t,"initListening pushState callback")}};if(this.pushStateCallbacks.length==0){var l=history.pushState;history.pushState=function(){l.apply(this,arguments);a.pushStateCallbacks.forEach(function(e){e()})}};this.pushStateCallbacks.push(o)};if(r==="inview"){var o=function(t){try{var o=[],u={};var l={};var s={};a.element=t;for(var i in n){if(!n[i]["position"]["running"])continue;if(n[i]["position"]["run_condition"].length){if(!eval(n[i]["position"]["run_condition"])){continue}};if(n[i]["runCondition"].length){if(!eval(n[i]["runCondition"])){continue}};a.lock=!1;a.requestData={};eval(n[i]["eventHandler"]);eval(n[i]["position"]["input_handler"]);if(a.lock)continue;o.push(a.prepareRequest(i,a.requestData,n[i]["position"]["item_attributes"],e));u[i]=n[i]["timeout"];l[i]=n[i]["timeoutHandler"];s[i]=n[i]["eventObserver"]};if(!o.length)return;a.sendBatchRequest(o,e,u,l,s)}catch(r){a.errorHandler(r,"initListening inview callback")}},s=function(){var e=[];if(i["mode"]==="xpath"){e=runDataGatherer.selectElements(i["selection"])}
else{e=Array.prototype.slice.call(document.querySelectorAll(i["selection"]))};return e};runDataGatherer.appear({appear:o,bounds:0,getElements:s})};if(r!=="pushState"&&r!=="inview"){var o=function(t){try{var h=[],m={};var f={};var p={};var u=[],d;if(i["mode"]==="xpath"){u=runDataGatherer.selectElements(i["selection"])}
else{u=Array.prototype.slice.call(document.querySelectorAll(i["selection"]))};for(var c=0;c<u.length;c++){var s;if(t.hasOwnProperty("path")&&Array.isArray(t.path)&&t.path.length>2){s=t.path}
else{s=[];var l=t.target;while(l){s.push(l);l=l.parentElement};if(s.indexOf(window)===-1&&s.indexOf(document)===-1){s.push(document)};if(s.indexOf(window)===-1){s.push(window)}};d=s.indexOf(u[c]);if(d<0)continue;a.nativeEvent=t;a.element=s[d];for(var o in n){if(!n[o]["position"]["running"])continue;if(n[o]["position"]["run_condition"].length){if(!eval(n[o]["position"]["run_condition"])){continue}};if(n[o]["runCondition"].length){if(!eval(n[o]["runCondition"])){continue}};a.lock=!1;a.requestData={};eval(n[o]["eventHandler"]);eval(n[o]["position"]["input_handler"]);if(a.lock)continue;h.push(a.prepareRequest(o,a.requestData,n[o]["position"]["item_attributes"],e));m[o]=n[o]["timeout"];f[o]=n[o]["timeoutHandler"];p[o]=n[o]["eventObserver"]};if(!h.length)return;a.sendBatchRequest(h,e,m,f,p);break}}catch(r){a.errorHandler(r,"initListening callback")}};document.addEventListener(r,o,!0)}}catch(t){this.errorHandler(t,"setListeningCallback")}},main:function(){try{var r=this.getConfig();this.individualizerScriptId=r["script_id"];this.individualizerLogLevel=r["log_level"];this.setLocalStorage();if(r["running"]&&runDataGatherer.resolveRunConditions(r["run_conditions"])){var c=[],d={};var u={};var l={};var s={};var i=!1,o="noPosition";if(r.hasOwnProperty("variables")){eval(r["variables"])};if(r.hasOwnProperty("declarations")){eval(r["declarations"])};for(var a in r["positions"]){this.requestData={};var t=r["positions"][a];o=a;if(!t["running"])continue;if(t["run_condition"]&&!eval(t["run_condition"]))continue;if(t["run_handler"])eval(t["run_handler"]);loop1:for(var n in t["events"]){loop2:for(var h in t["events"][n]["type"]){if(t["events"][n]["type"][h]==="DOMContentLoaded"){if(t["events"][n].hasOwnProperty("run_condition")&&!eval(t["events"][n]["run_condition"]))continue;this.lock=!1;eval(t["events"][n]["input_handler"]);eval(t["input_handler"]);if(this.lock)break loop1;c.push(this.prepareRequest(a,this.requestData,t["item_attributes"],r));d[a]=t["events"][n]["timeout"];u[a]=t["events"][n]["timeout_handler"];l[a]=t["events"][n].hasOwnProperty("observer")?t["events"][n]["observer"]:null;s[a]=t["events"][n]["selector"];i=!0;break loop1}}}};if(i)this.sendBatchRequest(c,r,d,u,l,s);this.initListening(r);this.initGarbageCollector()}}catch(e){this.errorHandler(e,"main, position: "+o)}},prepareRequest:function(e,r,a,o){try{var d=e.split("#"),u=d[d.length-1].split("@")[0],i={"requestId":e,"request":{"template":{"templateId":u},"returnedAttributes":[]}};if(o["positions"][e].hasOwnProperty("importance")){i["importance"]=o["positions"][e]["importance"]};if(localStorage.getItem("db_forced_ab_tests")){var h=JSON.parse(localStorage.getItem("db_forced_ab_tests"));i.request["abTests"]={"forcedAbTests":h}};if(getPropertyNames(r).length!==0){for(var n in r){if(n=="count"){i.request.template.count=r[n];continue};if(n=="filter"){i.request.template.filter=r[n];continue};if(n=="booster"){i.request.template.booster=r[n];continue};if(n=="details"){i.request.template.details=r[n];continue};i.request[n]=r[n]}};if(localStorage.getItem("db_forced_templates")){var l=JSON.parse(localStorage.getItem("db_forced_templates"));if(l.hasOwnProperty("all")){for(var n in l["all"]){i.request.template[n]=l["all"][n]}};if(l.hasOwnProperty(u)){for(var n in l[u]){i.request.template[n]=l[u][n]}}};var c=!0;for(var n in a){if(n.indexOf("parameters")!==-1){if(c){i["request"]["returnedAttributes"].push("parameters");c=!1}}
else{if(a[n]["run_condition"].length){if(eval(a[n]["run_condition"])){i["request"]["returnedAttributes"].push(n);if(a[n]["required"]){var s="";if(i.request.template.hasOwnProperty("filter")){s+=i.request.template.filter+" AND "};s+=n+" is not null";i.request.template.filter=s}}}
else{i["request"]["returnedAttributes"].push(n);if(a[n]["required"]){var s="";if(i.request.template.hasOwnProperty("filter")){s+=i.request.template.filter+" AND "};s+=n+" is not null";i.request.template.filter=s}}}};return i}catch(t){this.errorHandler(t,"prepareRequest")}},sendBatchRequest:function(e,r,n,i,u,c){try{var a=this,d=new Date().getTime(),w=function(e){try{if(e.readyState===e.DONE&&e.status===200){var o=JSON.parse(e.responseText),p=(new Date().getTime())-d;if(o&&o!==null&&typeof o==="object"){for(var i in o["responses"]){var h=o["responses"][i]["response"]["recommendations"],l=i+"#"+d;if(h.length>0){a.durations[l]={"requestDurationBackend":o["durationMs"],"requestDurationAll":p};a.saveRecommendations(l,h)}
else{eval(r["positions"][i]["empty_response_handler"]);var s="Not possible to apply the recommendations of "+i+", because no recommendations receieved.";a.warningHandler(s,"empty_response")};var f=n.hasOwnProperty(i)?n[i]:null,m=u.hasOwnProperty(i)?u[i]:null,g=c&&c.hasOwnProperty(i)?c[i]:null;if(!m){a.resolveIndividualization(l,d,f,!1,g)};if(r["log_level"]=="info"){a.infoHandler("","requestDuration",o["durationMs"],p,i)}}}
else{var s="Not possible to apply the recommendations, because no recommendations received.";a.warningHandler(s,"empty_response")}}
else{a.errorHandler("xhr.status: "+e.status,"sendBatchRequest callback")}}catch(t){a.errorHandler(t,"sendBatchRequest callback")}},l={};l["accountId"]=runDataGatherer.getAccountId();l["data"]=runDataGatherer.prepareOuput(runDataGatherer.getConfig());l["data"]["dataPoints"][0]["attributes"]["script_type"]="individualizer";l["data"]["dataPoints"][0]["attributes"]["script_version"]=this.getVersion();var m=l["data"].dataPoints[0]["attributes"]["user_identification"];if(m.hasOwnProperty(r["user_identification"])){for(var s=0;s<e.length;s++){e[s]["request"]["userId"]=m[r["user_identification"]]}}
else{for(var s=0;s<e.length;s++){e[s]["request"]["userId"]=m["id"]}};var f=[],h=[];for(var s=0;s<e.length;s++){var o=e[s]["request"]["template"]["templateId"],g=r["positions"][o]["type"],v=o+"#"+d,y=i.hasOwnProperty(o)?i[o]:null,p=n.hasOwnProperty(o)?n[o]:null,b=u.hasOwnProperty(o)?u[o]:null;if(y&&p){(function(e,t,r){setTimeout(function(){try{if(a.isThereYoungerRequest(r))return;eval("runIndividualizer.idRequest = '"+r+"'; "+t)}catch(n){a.errorHandler(n,"timeoutHandler of "+e)}},p)})(o,y,v)};if(b){(function(e,t,r,n,i){var c=function(i,o){if(e.hasOwnProperty("mutation_selector")){var d=e["mutation_selector"],s=a.getElements(d["mode"],d["selection"],document),l=!1;for(var c in s){for(var u in i){if(Array.prototype.slice.call(i[u]["addedNodes"]).indexOf(s[c])>=0){l=!0};if(i[u]["target"]==s[c]){l=!0}}};if(!l)return};o.disconnect();if(e.hasOwnProperty("handler"))eval(e["handler"]);a.resolveIndividualization(t,r,n,!0,null)},o=e["parent_selector"];a.observers[t]=new MutationObserver(c);var s=a.getElements(o["mode"],o["selection"],document);if(!s.length){var l=i+" (observerSelector, mode: "+o["mode"]+", selection: "+o["selection"]+")",u="Not possible to apply the observer to: "+l+", because element does not exist.";a.warningHandler(u,"element_missing");return};a.observers[t].observe(s[0],{childList:!0,subtree:!0})})(b,v,d,p,o)};if(g=="recommendation"){f.push(e[s])};if(g=="individualizer"){h.push(e[s])};if(!this.requests.hasOwnProperty(o)){this.requests[o]=[]};this.requests[o].push(d)};if(f.length>0){l["recommendation_request"]={};l["recommendation_request"]["requests"]=f;l["recommendation_request"]["uniqueRecommendations"]=!0;l["recommendation_request"]["importanceType"]="priority";if(h.length==0){l["synchronous"]=!1}};if(h.length>0){l["individualizer_request"]={};l["individualizer_request"]["requests"]=h};runDataGatherer.makeCorsRequest(l,this.getUrl(),"POST",w,!0)}catch(t){this.errorHandler(t,"sendBatchRequest")}},saveRecommendations:function(e,r){try{if(this.recommendations.hasOwnProperty(e)){var n="It was impossible to save the recommendations because the request id '"+e+"' was duplicated.";this.warningHandler(n,"duplicate_request_id")}
else{this.recommendations[e]=r}}catch(t){this.errorHandler(t,"saveRecommendations")}},loadRecommendations:function(e){try{if(this.recommendations.hasOwnProperty(e)){return this.recommendations[e]};return!1}catch(t){this.errorHandler(t,"loadRecommendations")}},applyRecommendations:function(e){try{var m=e.split("#")[0],H=this.getConfig(),a=H["positions"][m];this.responseData=this.loadRecommendations(e);this.idRequest=e;this.lock=!1;var P="before_render_handler";eval(a["before_render_handler"]);P="under before_render_handler";if(this.lock)return;var w=this.responseData,s=this,o=this.getElements(a["root_selector"]["mode"],a["root_selector"]["selection"],document);if(!o.length){var l=m+", mode: "+a["root_selector"]["mode"]+", selection: "+a["root_selector"]["selection"],u="Not possible to apply the recommendation to: "+l+", because element does not exist.";this.warningHandler(u,"element_missing");return};var h=o[0],q=h.children[0].cloneNode(!0);if(a["multiple"]){var b=h.dataset.offset?parseInt(h.dataset.offset):0,x=h.children;if(x.length<b){b=x.length-w.length};for(var d=0;d<w.length;d++){d=parseInt(d);var c=w[d]["attributes"];this.responseItem=c;this.responseItem["itemId"]=w[d]["itemId"];var S=Object.keys(c),n=Object.keys(a["item_attributes"]),E={};for(var r=0;r<n.length;r++){if(a["item_attributes"][n[r]].hasOwnProperty("cloning_selector")){var y=JSON.parse(c[n[r]]);if(y.length>0){E[n[r]]=y}}};this.responseVariants=E;if(x.length<b+d+1)h.appendChild(q.cloneNode(!0));for(var r=0;r<n.length;r++){if(S.indexOf(n[r])<0)continue;P=n[r];if(n[r].indexOf("parameters::")>=0){var v=c["parameters"];for(var g in v){for(var O in v[g]){var f="parameters::"+g+"::"+O,i=a["item_attributes"][f]["internal_selector"],o=this.getElements(i["mode"],i["selection"],h.children[b+d]);this.responseData=v[g][O];if(!o.length){var l=m+" (internalSelector, mode: "+i["mode"]+", selection: "+i["selection"]+")",u="Not possible to apply the recommendation to: "+l+", because element does not exist.";this.warningHandler(u,"element_missing");continue};o.forEach(function(e){s.element=e;eval(a["item_attributes"][f]["output_handler"]);s.element[a["item_attributes"][f]["property"]]=s.responseData})}}}
else{if(a["item_attributes"][n[r]].hasOwnProperty("cloning_selector")){var D=a["item_attributes"][n[r]]["cloning_selector"],o=this.getElements(D["mode"],D["selection"],h.children[b+d]);if(!o.length){var l=m+" (cloningSelector, mode: "+D["mode"]+", selection: "+D["selection"]+")",u="Not possible to apply the recommendation to: "+l+", because element does not exist.";this.warningHandler(u,"element_missing");continue};var y=JSON.parse(c[n[r]]);if(y!=null&&y.constructor===Array){for(var p=0;p<y.length;p++){if(o.length<p+1){o[p]=o[0].cloneNode(!0);o[0].parentElement.appendChild(o[p])};var i=a["item_attributes"][n[r]]["internal_selector"],I=this.getElements(i["mode"],i["selection"],o[p]);this.responseData=y[p];this.responseVariantIndex=p;for(var k in this.responseVariants){this.responseVariant[k]=this.responseVariants[k][p]};if(!I.length){var l=m+" (internalSelector, mode: "+i["mode"]+", selection: "+i["selection"]+")",u="Not possible to apply the recommendation to: "+l+", because element does not exist.";this.warningHandler(u,"element_missing");continue};I.forEach(function(e){s.element=e;eval(a["item_attributes"][n[r]]["output_handler"]);s.element[a["item_attributes"][n[r]]["property"]]=s.responseData})}}}
else{var i=a["item_attributes"][n[r]]["internal_selector"],o=this.getElements(i["mode"],i["selection"],h.children[b+d]);this.responseData=c.hasOwnProperty(n[r])?c[n[r]]:null;if(!o.length){var l=m+" (internalSelector, mode: "+i["mode"]+", selection: "+i["selection"]+")",u="Not possible to apply the recommendation to: "+l+", because element does not exist.";this.warningHandler(u,"element_missing");continue};o.forEach(function(e){s.element=e;eval(a["item_attributes"][n[r]]["output_handler"]);s.element[a["item_attributes"][n[r]]["property"]]=s.responseData})}}}}}
else{var c=w[0]["attributes"],S=Object.keys(c),n=Object.keys(a["item_attributes"]);for(var r=0;r<n.length;r++){if(S.indexOf(n[r])<0)continue;P=n[r];if(n[r].indexOf("parameters::")>=0){var v=c["parameters"];for(var g in v){for(var O in v[g]){var f="parameters::"+g+"::"+O;P=f;var i=a["item_attributes"][f]["internal_selector"],o=this.getElements(i["mode"],i["selection"],h);this.responseData=v[g][O];if(!o.length){var l=m+" (internalSelector, mode: "+i["mode"]+", selection: "+i["selection"]+")",u="Not possible to apply the recommendation to: "+l+", because element does not exist.";this.warningHandler(u,"element_missing");continue};o.forEach(function(e){s.element=e;s.element[a["item_attributes"][f]["property"]]=s.responseData;eval(a["item_attributes"][f]["output_handler"])})}}}
else{var i=a["item_attributes"][n[r]]["internal_selector"],o=this.getElements(i["mode"],i["selection"],h);this.responseData=c.hasOwnProperty(n[r])?c[n[r]]:null;if(!o.length){var l=m+" (internalSelector, mode: "+i["mode"]+", selection: "+i["selection"]+")",u="Not possible to apply the recommendation to: "+l+", because element does not exist.";this.warningHandler(u,"element_missing");continue};o.forEach(function(e){s.element=e;s.element[a["item_attributes"][n[r]]["property"]]=s.responseData;eval(a["item_attributes"][n[r]]["output_handler"])})}}};this.responseData=w;P="output_handler";eval(a["output_handler"])}catch(t){this.errorHandler(t,"applyRecommendations "+P)}},resolveIndividualization:function(e,r,n,a,i){try{var u=this,s=e.split("#")[0];if(this.isThereYoungerRequest(e))return;if(n&&((n-(new Date().getTime()-r))<=0)){var o="area: resolveIndividualization, Not possible to apply the recommendation to: "+s+", because of timeout.";if(this.durations.hasOwnProperty(e)){this.warningHandler(o,"timeout",this.durations[e]["requestDurationBackend"],this.durations[e]["requestDurationAll"],s)}
else{this.warningHandler(o,"timeout",null,null,s,new Date().getTime()-r)};return};if(i){var c=this.getElements(i["mode"],i["selection"],document);if(!c.length){setTimeout(function(){u.resolveIndividualization(e,r,n,!1,i)},50);return}};var l=this.loadRecommendations(e);if(a){if(l){this.applyRecommendations(e)}
else{setTimeout(function(){u.resolveIndividualization(e,r,n,!0,i)},50)};return};if(l){this.applyRecommendations(e)}
else{var o="area: callback, Not possible to apply the recommendation to: "+s+", because no recommendations receieved.";this.warningHandler(o,"empty_response")}}catch(t){this.errorHandler(t,"resolveIndividualization")}},isThereYoungerRequest:function(e){try{var r=e.split("#")[0],n=parseInt(e.split("#")[1]),a=Math.max.apply(null,this.requests[r]);return a!==n}catch(t){this.errorHandler(t,"isThereYoungerRequest")}},formatPrice:function(e,r,n,a){try{if(!n)n=".";if(r){var i=Math.round(e).toFixed(2).split(".")}
else{var i=e.toFixed(2).split(".")};return i[0].split("").reverse().reduce(function(e,t,r,n){return t=="-"?e:t+(r&&!(r%3)?" ":"")+e},"")+(i[1]!=="00"?n+i[1]:a?n+"00":"")}catch(t){this.errorHandler(t,"formatPrice")}},initGarbageCollector:function(){try{var t=this;setInterval(function(){var o=new Date().getTime(),a={};for(var n in t.recommendations){var e=n.split("#")[0],r=parseInt(n.split("#")[1]);if(a.hasOwnProperty(e)){if(a[e]<r){a[e]=r}}
else{a[e]=r}};for(var n in t.recommendations){var e=n.split("#")[0],r=parseInt(n.split("#")[1]);if(a[e]==r){continue};if(r<(o-60000)){delete t.recommendations[e+"#"+r]}};for(var e in t.requests){var i=t.requests[e].length;while(i--){if(t.requests[e][i]<(o-60000)){t.requests[e].splice(i,1)}}}},60000)}catch(e){this.errorHandler(e,"initGarbageCollector")}},setLocalStorage:function(){var e=runDataGatherer.loadUrl({"mode":"specific","parameters":["db_ab_test_group"]})["parameters"]["db_ab_test_group"];if(!e)return;if(e=="remove"){localStorage.removeItem("db_forced_ab_tests")};if(e=="recommendation"){localStorage.setItem("db_forced_ab_tests","[{ \"abTestSelector\": { \"abTestType\": \"main\" }, \"groupSelector\": { \"abTestTags\": [ \"recommendation\" ] } }]")};if(e=="original"){localStorage.setItem("db_forced_ab_tests","[{ \"abTestSelector\": { \"abTestType\": \"main\" }, \"groupSelector\": { \"abTestTags\": [ \"original\" ] } }]")}},createElementFromHTML:function(e){try{var r=document.createElement("div");r.innerHTML=e.trim();return r.firstChild}catch(t){this.errorHandler(t,"createElementFromHTML")}}};runDataGatherer.initPolyfills();runDataGatherer.initInView();runIndividualizer.initPolyfills();runIndividualizer.main();runDataGatherer.main()}catch(e$){try{var output={"dataPoints":[{"attributes":{"source_url":{"page":location.href},"user_agent":navigator.userAgent,"message_type":"error","error_name":e$.name,"error_message":"area: "+area+", "+e$.message+", "+e$.result}}]};var xhr=new XMLHttpRequest();xhr.url="https://api.databreakers.com/v1/alza/dataPoint";xhr.method="POST";if("withCredentials" in xhr){xhr.open(xhr.method,xhr.url);xhr.type="XMLHttpRequest"}
else if(typeof XDomainRequest!="undefined"){xhr=new XDomainRequest();xhr.open(xhr.method,xhr.url);xhr.type="XDomainRequest"};xhr.setRequestHeader("Content-Type","text/plain;charset=utf-8");xhr.onerror=function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();xhr.onerror=null;return!1};if(xhr){xhr.send(JSON.stringify(output))}}catch(e$){}};